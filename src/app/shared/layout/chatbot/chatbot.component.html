<div class="fixed bottom-4 left-4">
  <!-- Group wrapper to detect hover on the image -->
  <div class="relative inline-block group">
    <!-- Robot Image -->
    @if(isRobot){
    <img
      src="/images/cute-3d-robot-say-hello-png 1.png"
      alt="Robot"
      width="120"
      class="h-auto cursor-pointer"
      (click)="toggleRobot()"
    />

    <!-- Speech Bubble -->
    <div
      class="absolute -top-8 left-12 w-48 p-2 bg-white text-black border-2 border-blue-600 rounded-md shadow-lg /* Hide bubble by default */ opacity-0 /* Reveal on hover */ group-hover:opacity-100 /* Smooth fade-in transition */ transition-opacity duration-300"
    >
      <!-- Bubble Text -->
      <span class="text-base font-medium" style="font-size: 0.8rem">
        كيف يمكنني مساعدتك
      </span>

      <!-- Pointer: Outer (border color) -->
      <div
        class="absolute bottom-[-10px] left-6 w-0 h-0 border-l-[10px] border-r-[10px] border-t-[10px] border-l-transparent border-r-transparent border-t-blue-600"
      ></div>

      <!-- Pointer: Inner (white fill) -->
      <div
        class="absolute bottom-[-8px] left-6 w-0 h-0 border-l-[8px] border-r-[8px] border-t-[8px] border-l-transparent border-r-transparent border-t-white"
      ></div>
    </div>
    } @else{
    <div class="relative">
      <!-- Buttons -->
      <div class="absolute -top-40 left-1 flex flex-col items-center gap-2">
        <!-- Email Button href="mailto:your@email.com"-->
        <a
          href="mailto:example@example.com"
          class="flex width-button items-center px-3 py-1 rounded-lg shadow-md transition"
        >
          <img src="/images/mail.png" alt="Email" class="w-10 h-10 mr-2" />
          تواصل معنا الان علي الايميل
        </a>
        <!-- WhatsApp Button -->
        <a
          href="https://wa.me/966534687859"
          target="_blank"
          class="flex width-button items-center px-3 py-1 rounded-lg shadow-md transition"
        >
          <img src="/images/whats.png" alt="WhatsApp" class="w-10 h-10 mr-2" />
          تواصل معنا الان واتساب
        </a>
      </div>

      <!-- X Button -->
      <button
        class="absolute bottom-0 left-1 w-10 h-10 text-white rounded-full shadow-md flex items-center justify-center hover:bg-red-600 transition"
        style="background-color: rgba(33, 5, 89, 1)"
        (click)="toggleRobot()"
      >
        ✖
      </button>
    </div>
    }
  </div>
</div>
